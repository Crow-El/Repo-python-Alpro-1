# -*- coding: utf-8 -*-
"""UAS Algoritma dan Pemrograman 1

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1qdHPCEnkZwbsfrvgmQFk5G8_xEaxdeZk
"""

# Black box

import time

class Mahasiswa:
    def __init__(self, nama):
        self.nama = nama
        self.matkul = []

    def tambah_matkul(self, matkul):
        self.matkul.append(matkul)

    def hapus_matkul(self, matkul):
        if matkul in self.matkul:
            self.matkul.remove(matkul)

    def lihat_matkul(self):
        return self.matkul


class SistemKRS:
    def __init__(self):
        self.mahasiswa_list = []
        self.matkul_list = []

    def tambah_mahasiswa(self, nama):
        # Cek apakah nama mahasiswa sudah ada
        if any(mhs.nama == nama for mhs in self.mahasiswa_list):
            return f"Mahasiswa dengan nama '{nama}' sudah terdaftar."
        mahasiswa = Mahasiswa(nama)
        self.mahasiswa_list.append(mahasiswa)
        return f"Mahasiswa '{nama}' berhasil ditambahkan."

    def tambah_matkul(self, matkul):
        if matkul in self.matkul_list:
            return f"Mata kuliah '{matkul}' sudah terdaftar."
        self.matkul_list.append(matkul)
        return f"Mata kuliah '{matkul}' berhasil ditambahkan."

    def lihat_mahasiswa(self):
        return [mhs.nama for mhs in self.mahasiswa_list]

    def lihat_matkul(self, nama_mahasiswa):
        for mhs in self.mahasiswa_list:
            if mhs.nama == nama_mahasiswa:
                return mhs.lihat_matkul()
        return None

    def pilih_matkul(self, nama_mahasiswa, matkul):
        for mhs in self.mahasiswa_list:
            if mhs.nama == nama_mahasiswa:
                if matkul in self.matkul_list:
                    if matkul not in mhs.matkul:
                        mhs.tambah_matkul(matkul)
                        return f"Mata kuliah '{matkul}' berhasil ditambahkan untuk {nama_mahasiswa}."
                    else:
                        return f"Mata kuliah '{matkul}' sudah dipilih oleh {nama_mahasiswa}."
                else:
                    return f"Mata kuliah '{matkul}' tidak tersedia."
        return "Mahasiswa tidak ditemukan."

    def edit_matkul(self, nama_mahasiswa, matkul_lama, matkul_baru):
        for mhs in self.mahasiswa_list:
            if mhs.nama == nama_mahasiswa:
                if matkul_lama in mhs.matkul:
                    if matkul_baru in self.matkul_list:
                        mhs.hapus_matkul(matkul_lama)
                        mhs.tambah_matkul(matkul_baru)
                        return f"Mata kuliah '{matkul_lama}' berhasil diganti dengan '{matkul_baru}' untuk {nama_mahasiswa}."
                    else:
                        return f"Mata kuliah baru '{matkul_baru}' tidak tersedia."
                else:
                    return f"Mata kuliah '{matkul_lama}' tidak ditemukan pada mahasiswa {nama_mahasiswa}."
        return "Mahasiswa tidak ditemukan."


def main():
    sistem = SistemKRS()

    while True:
        print("\n=== Sistem KRS dan Perwalian ===")
        print("1. Tambah Mahasiswa")
        print("2. Tambah Mata Kuliah")
        print("3. Lihat Daftar Mahasiswa")
        print("4. Lihat Mata Kuliah yang Dipilih Mahasiswa")
        print("5. Pilih Mata Kuliah")
        print("6. Edit Mata Kuliah")
        print("7. Keluar")

        pilihan = input("Pilih menu (1-7): ")

        start_time = time.time()  # Mulai pengukuran waktu

        if pilihan == '1':
            nama_mahasiswa = input("Masukkan nama mahasiswa: ")
            print(sistem.tambah_mahasiswa(nama_mahasiswa))

        elif pilihan == '2':
            matkul = input("Masukkan nama mata kuliah: ")
            print(sistem.tambah_matkul(matkul))

        elif pilihan == '3':
            print("Daftar Mahasiswa:")
            mahasiswa_list = sistem.lihat_mahasiswa()
            if mahasiswa_list:
                for mhs in mahasiswa_list:
                    print(f"- {mhs}")
            else:
                print("Belum ada mahasiswa yang terdaftar.")

        elif pilihan == '4':
            nama_mahasiswa = input("Masukkan nama mahasiswa: ")
            matkul_dipilih = sistem.lihat_matkul(nama_mahasiswa)
            if matkul_dipilih is not None:
                if matkul_dipilih:
                    print(f"Mata Kuliah yang Dipilih oleh {nama_mahasiswa}:")
                    for matkul in matkul_dipilih:
                        print(f"- {matkul}")
                else:
                    print(f"{nama_mahasiswa} belum memilih mata kuliah.")
            else:
                print("Mahasiswa tidak ditemukan.")

        elif pilihan == '5':
            nama_mahasiswa = input("Masukkan nama mahasiswa: ")
            matkul = input("Masukkan nama mata kuliah yang dipilih: ")
            print(sistem.pilih_matkul(nama_mahasiswa, matkul))

        elif pilihan == '6':
            nama_mahasiswa = input("Masukkan nama mahasiswa: ")
            matkul_lama = input("Masukkan mata kuliah yang ingin diedit: ")
            matkul_baru = input("Masukkan mata kuliah baru: ")
            print(sistem.edit_matkul(nama_mahasiswa, matkul_lama, matkul_baru))

        elif pilihan == '7':
            print("Keluar dari sistem.")
            break

        else:
            print("Pilihan tidak valid. Silakan coba lagi.")

        end_time = time.time()  # Akhiri pengukuran waktu
        execution_time = end_time - start_time  # Hitung waktu eksekusi
        print(f"Waktu eksekusi: {execution_time:.4f} detik")


if __name__ == "__main__":
    main()